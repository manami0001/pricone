import{u as qe,c as Z,g as $,a as pe,b as r,d as Pe,h as g,e as Oe,f as Be,s as Me,i as Ne,r as T,j as J,k as Qe,w as K,o as le,l as ne,m as ie,n as oe,p as ze,T as ye,q as be,t as Ve,v as Le,x as Ee,Q as De,y as A,_ as He,z,A as F,B as c,C as Ie,D as s,E as re,F as se,G as d,H as ue,I as je,J as U,K as ce,L as de,M as ge,N as X,O as Re,P as E,R as Ae,S as Fe,U as Ue}from"./index-BUBYIcv4.js";import{u as We,a as W,v as ve,b as Ge,c as Je,d as Ke,e as Xe,f as Ye,g as Ze,r as he,s as $e,p as me,h as et,Q as fe,i as G,j as tt}from"./position-engine-wAZvtmSu.js";const at={...qe,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Y=50,Se=2*Y,_e=Se*Math.PI,lt=Math.round(_e*1e3)/1e3,nt=Z({name:"QCircularProgress",props:{...at,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:a}){const{proxy:{$q:v}}=$(),x=pe(e),n=r(()=>{const i=(v.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(v.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-i}deg)`:`rotate3d(0, 0, 1, ${i-90}deg)`}}),o=r(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),t=r(()=>Se/(1-e.thickness/2)),u=r(()=>`${t.value/2} ${t.value/2} ${t.value} ${t.value}`),b=r(()=>Pe(e.value,e.min,e.max)),C=r(()=>e.max-e.min),_=r(()=>e.thickness/2*t.value),P=r(()=>{const i=(e.max-b.value)/C.value,f=e.rounded===!0&&b.value<e.max&&i<.25?_.value/2*(1-i/.25):0;return _e*i+f});function m({thickness:i,offset:f,color:S,cls:O,rounded:B}){return g("circle",{class:"q-circular-progress__"+O+(S!==void 0?` text-${S}`:""),style:o.value,fill:"transparent",stroke:"currentColor","stroke-width":i,"stroke-dasharray":lt,"stroke-dashoffset":f,"stroke-linecap":B,cx:t.value,cy:t.value,r:Y})}return()=>{const i=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&i.push(g("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Y-_.value/2,cx:t.value,cy:t.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&i.push(m({cls:"track",thickness:_.value,offset:0,color:e.trackColor})),i.push(m({cls:"circle",thickness:_.value,offset:P.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const f=[g("svg",{class:"q-circular-progress__svg",style:n.value,viewBox:u.value,"aria-hidden":"true"},i)];return e.showValue===!0&&f.push(g("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},a.default!==void 0?a.default():[g("div",b.value)])),g("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:x.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:b.value},Oe(a.internal,f))}}}),it=Z({name:"QTooltip",inheritAttrs:!1,props:{...We,...Be,...W,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...W.transitionShow,default:"jump-down"},transitionHide:{...W.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:ve},self:{type:String,default:"top middle",validator:ve},offset:{type:Array,default:()=>[14,14],validator:Ge},scrollTarget:Me,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Ne],setup(e,{slots:a,emit:v,attrs:x}){let n,o;const t=$(),{proxy:{$q:u}}=t,b=T(null),C=T(!1),_=r(()=>me(e.anchor,u.lang.rtl)),P=r(()=>me(e.self,u.lang.rtl)),m=r(()=>e.persistent!==!0),{registerTick:i,removeTick:f}=Je(),{registerTimeout:S}=J(),{transitionProps:O,transitionStyle:B}=Ke(e),{localScrollTarget:V,changeScrollEvent:D,unconfigureScrollTarget:H}=Xe(e,te),{anchorEl:y,canShow:I,anchorEvents:w}=Ye({showing:C,configureAnchorEl:ke}),{show:j,hide:M}=Qe({showing:C,canShow:I,handleShow:k,handleHide:p,hideOnRouteChange:m,processOnMount:!0});Object.assign(w,{delayShow:xe,delayHide:Ce});const{showPortal:N,hidePortal:L,renderPortal:l}=Ze(t,b,Te,"tooltip");if(u.platform.is.mobile===!0){const h={anchorEl:y,innerRef:b,onClickOutside(q){return M(q),q.target.classList.contains("q-dialog__backdrop")&&Ve(q),!0}},R=r(()=>e.modelValue===null&&e.persistent!==!0&&C.value===!0);K(R,q=>{(q===!0?et:he)(h)}),le(()=>{he(h)})}function k(h){N(),i(()=>{o=new MutationObserver(()=>Q()),o.observe(b.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),Q(),te()}),n===void 0&&(n=K(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,Q)),S(()=>{N(!0),v("show",h)},e.transitionDuration)}function p(h){f(),L(),ee(),S(()=>{L(!0),v("hide",h)},e.transitionDuration)}function ee(){o!==void 0&&(o.disconnect(),o=void 0),n!==void 0&&(n(),n=void 0),H(),ne(w,"tooltipTemp")}function Q(){$e({targetEl:b.value,offset:e.offset,anchorEl:y.value,anchorOrigin:_.value,selfOrigin:P.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function xe(h){if(u.platform.is.mobile===!0){ie(),document.body.classList.add("non-selectable");const R=y.value,q=["touchmove","touchcancel","touchend","click"].map(ae=>[R,ae,"delayHide","passiveCapture"]);oe(w,"tooltipTemp",q)}S(()=>{j(h)},e.delay)}function Ce(h){u.platform.is.mobile===!0&&(ne(w,"tooltipTemp"),ie(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),S(()=>{M(h)},e.hideDelay)}function ke(){if(e.noParentEvent===!0||y.value===null)return;const h=u.platform.is.mobile===!0?[[y.value,"touchstart","delayShow","passive"]]:[[y.value,"mouseenter","delayShow","passive"],[y.value,"mouseleave","delayHide","passive"]];oe(w,"anchor",h)}function te(){if(y.value!==null||e.scrollTarget!==void 0){V.value=ze(y.value,e.scrollTarget);const h=e.noParentEvent===!0?Q:M;D(V.value,h)}}function we(){return C.value===!0?g("div",{...x,ref:b,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",x.class],style:[x.style,B.value],role:"tooltip"},be(a.default)):null}function Te(){return g(ye,O.value,we)}return le(ee),Object.assign(t.proxy,{updatePosition:Q}),l}}),ot={ratio:[String,Number]};function rt(e,a){return r(()=>{const v=Number(e.ratio||(a!==void 0?a.value:void 0));return isNaN(v)!==!0&&v>0?{paddingBottom:`${100/v}%`}:null})}const st=1.7778,ut=Z({name:"QImg",props:{...ot,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:st},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:a,emit:v}){const x=T(e.initialRatio),n=rt(e,x),o=$(),{registerTimeout:t,removeTimeout:u}=J(),{registerTimeout:b,removeTimeout:C}=J(),_=r(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),P=r(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),m=[T(null),T(_.value)],i=T(0),f=T(!1),S=T(!1),O=r(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),B=r(()=>({width:e.width,height:e.height})),V=r(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),D=r(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function H(){if(C(),e.loadingShowDelay===0){f.value=!0;return}b(()=>{f.value=!0},e.loadingShowDelay)}function y(){C(),f.value=!1}function I({target:l}){A(o)===!1&&(u(),x.value=l.naturalHeight===0?.5:l.naturalWidth/l.naturalHeight,w(l,1))}function w(l,k){k===1e3||A(o)===!0||(l.complete===!0?j(l):t(()=>{w(l,k+1)},50))}function j(l){A(o)!==!0&&(i.value=i.value^1,m[i.value].value=null,y(),l.getAttribute("__qerror")!=="true"&&(S.value=!1),v("load",l.currentSrc||l.src))}function M(l){u(),y(),S.value=!0,m[i.value].value=P.value,m[i.value^1].value=_.value,v("error",l)}function N(l){const k=m[l].value,p={key:"img_"+l,class:V.value,style:D.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...k};return i.value===l?Object.assign(p,{class:p.class+"current",onLoad:I,onError:M}):p.class+="loaded",g("div",{class:"q-img__container absolute-full",key:"img"+l},g("img",p))}function L(){return f.value===!1?g("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},be(a[S.value===!0?"error":"default"])):g("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},a.loading!==void 0?a.loading():e.noSpinner===!0?void 0:[g(De,{color:e.spinnerColor,size:e.spinnerSize})])}{let l=function(){K(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,k=>{u(),S.value=!1,k===null?(y(),m[i.value^1].value=_.value):H(),m[i.value].value=k},{immediate:!0})};Le.value===!0?Ee(l):l()}return()=>{const l=[];return n.value!==null&&l.push(g("div",{key:"filler",style:n.value})),m[0].value!==null&&l.push(N(0)),m[1].value!==null&&l.push(N(1)),l.push(g(ye,{name:"q-transition--fade"},L)),g("div",{key:"main",class:O.value,style:B.value,role:"img","aria-label":e.alt},l)}}}),ct={inject:["checkList","staticChars","listing"],data(){return{tab:"全て",elements:[{label:"全て",color:"black"},{label:"火",color:"red"},{label:"水",color:"blue"},{label:"風",color:"green"},{label:"光",color:"amber"},{label:"闇",color:"purple"}],statusOptions:[{label:"所持",value:"maru",color:"positive"},{label:"未所持",value:"batsu",color:"negative"}],status:["maru","batsu"],getMethodOptions:[{label:"限定",value:"limited"},{label:"恒常",value:"permanent"},{label:"低レア",value:"low"},{label:"イベント",value:"event"},{label:"その他",value:"other"}],getMethod:["limited","permanent","low","event","other"],attackOptions:[{label:"物理",value:"b"},{label:"魔法",value:"m"}],attack:["b","m"],isTairetsu:!1}},methods:{isShow(e,a,v=!1){return(a=="全て"||e.element==a)&&this.getMethod.includes(e.getMethod)&&this.attack.includes(e.attack)&&(v||this.status.includes(e.having?"maru":"batsu"))},charCount(e){return e=="全て"?this.staticChars.filter(a=>this.isShow(a,e,!0)).length:this.staticChars.filter(a=>this.isShow(a,e,!0)&&a.element==e).length},havingCharCount(e){return e=="全て"?this.staticChars.filter(a=>this.isShow(a,e,!0)&&a.having).length:this.staticChars.filter(a=>this.isShow(a,e,!0)&&a.having&&a.element==e).length}},computed:{orderdChars(){return this.isTairetsu?this.staticChars:this.staticChars.slice().sort((e,a)=>e.num-a.num)}}},dt=d("div",{class:"text-caption"},"・所持率ゲージで属性切り替え",-1),gt=d("div",{class:"text-caption"},[X(" ・キャラをクリックで"),d("span",{class:"text-positive"},"所持"),d("span",{class:"text-negative"},"未所持"),X("切り替え ")],-1),vt={class:"q-px-md q-py-xs q-ma-xs rounded-borders bg-grey-1"},ht=d("span",null,"状態",-1),mt={class:"q-px-md q-py-xs q-ma-xs rounded-borders bg-grey-1"},ft=d("span",null,"入手手段",-1),yt={class:"q-px-md q-py-xs q-ma-xs rounded-borders bg-grey-1"},bt=d("span",null,"攻撃方法",-1),St={class:"fit"},_t={class:"column items-center"},xt={class:"text-body1"},Ct={class:"text-caption"},kt={class:"fit"};function wt(e,a,v,x,n,o){return z(),F(Ie,{separator:""},{default:c(()=>[s(fe,{icon:"info",label:"使い方",caption:"クリックで開閉","expand-icon":"expand_more","expanded-icon":"expand_less"},{default:c(()=>[s(re,null,{default:c(()=>[s(se,{class:"q-py-xs"},{default:c(()=>[dt,gt]),_:1})]),_:1})]),_:1}),s(fe,{icon:"filter_alt",label:"絞り込み",caption:"クリックで開閉","expand-icon":"expand_more","expanded-icon":"expand_less"},{default:c(()=>[s(re,null,{default:c(()=>[s(se,{class:"q-py-xs q-gutter-xs row"},{default:c(()=>[d("div",vt,[ht,s(G,{name:"accepted_genres",modelValue:n.status,"onUpdate:modelValue":a[0]||(a[0]=t=>n.status=t),options:n.statusOptions,type:"checkbox",inline:""},null,8,["modelValue","options"])]),d("div",mt,[ft,s(G,{name:"accepted_genres",modelValue:n.getMethod,"onUpdate:modelValue":a[1]||(a[1]=t=>n.getMethod=t),options:n.getMethodOptions,type:"checkbox",color:"primary",inline:""},null,8,["modelValue","options"])]),d("div",yt,[bt,s(G,{name:"accepted_genres",modelValue:n.attack,"onUpdate:modelValue":a[2]||(a[2]=t=>n.attack=t),options:n.attackOptions,type:"checkbox",color:"primary",inline:""},null,8,["modelValue","options"])])]),_:1})]),_:1})]),_:1}),s(U,null,{default:c(()=>[s(ue,{avatar:""},{default:c(()=>[s(je,{name:"swap_vert"})]),_:1}),s(ue,null,{default:c(()=>[d("div",null,[s(tt,{modelValue:n.isTairetsu,"onUpdate:modelValue":a[3]||(a[3]=t=>n.isTairetsu=t),color:"white","text-color":"primary","toggle-color":"primary",unelevated:"",rounded:"",style:{border:"1px solid var(--q-primary)"},options:[{label:"編成順",value:!0},{label:"登場順",value:!1}]},null,8,["modelValue"])])]),_:1})]),_:1}),s(U,{class:"q-px-none"},{default:c(()=>[d("div",St,[(z(!0),ce(ge,null,de(n.elements,t=>(z(),F(Re,{dense:"",flat:"","text-color":t.color,onClick:u=>n.tab=t.label},{default:c(()=>[s(nt,{"show-value":"",value:Math.round(1e3*o.havingCharCount(t.label)/o.charCount(t.label))/10,size:"80px",thickness:.1,color:t.color,"track-color":"grey-3"},{default:c(()=>[d("div",_t,[d("div",xt,E(Math.round(1e3*o.havingCharCount(t.label)/o.charCount(t.label))/10)+"% ",1),d("div",Ct,E(o.havingCharCount(t.label))+"/"+E(o.charCount(t.label)),1)])]),_:2},1032,["value","color"])]),_:2},1032,["text-color","onClick"]))),256))])]),_:1}),s(U,{class:"q-px-none"},{default:c(()=>[d("div",kt,[(z(!0),ce(ge,null,de(o.orderdChars,t=>Ae((z(),F(ut,{key:t.name,src:`/pricone/image/${t.name}.jpg`,"no-spinner":"","no-transition":"",class:Fe(["cursor-pointer char-img",[t.having?"maru":"batsu",!t.having&&n.status.length==2?"opacity":null]]),onClick:u=>o.listing(o.checkList,t.name)},{default:c(()=>[s(it,{anchor:"top middle",self:"center middle",class:"bg-black"},{default:c(()=>[X(E(t.name),1)]),_:2},1024)]),_:2},1032,["src","class","onClick"])),[[Ue,o.isShow(t,n.tab)]])),128))])]),_:1})]),_:1})}const pt=He(ct,[["render",wt]]);export{pt as default};
