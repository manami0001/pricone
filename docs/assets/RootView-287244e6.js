import{o as M,c as j,a as T,b as K,m as at,w as lt,n as x,F as ye,r as Se,d as ge,e as ht,f as je,t as me,g as we,h as Ke,i as pe,j as R,k as Ie,l as gt,p as Je,_ as It,q as st,v as Pt,s as Qe,u as mt,x as pt,y as Rt,z as nt}from"./index-bdfd77cf.js";function De(e){return[null,void 0].indexOf(e)!==-1}function At(e,u,a){const{object:s,valueProp:i,mode:w}=we(e),r=Ke().proxy,_=a.iv,v=(q,H=!0)=>{_.value=f(q);const B=E(q);u.emit("change",B,r),H&&(u.emit("input",B),u.emit("update:modelValue",B))},E=q=>s.value||De(q)?q:Array.isArray(q)?q.map(H=>H[i.value]):q[i.value],f=q=>De(q)?w.value==="single"?{}:[]:q;return{update:v}}function qt(e,u){const{value:a,modelValue:s,mode:i,valueProp:w}=we(e),r=pe(i.value!=="single"?[]:{}),_=s&&s.value!==void 0?s:a,v=R(()=>i.value==="single"?r.value[w.value]:r.value.map(f=>f[w.value])),E=R(()=>i.value!=="single"?r.value.map(f=>f[w.value]).join(","):r.value[w.value]);return{iv:r,internalValue:r,ev:_,externalValue:_,textValue:E,plainValue:v}}function Dt(e,u,a){const{regex:s}=we(e),i=Ke().proxy,w=a.isOpen,r=a.open,_=pe(null),v=pe(null),E=()=>{_.value=""},f=B=>{_.value=B.target.value},q=B=>{if(s&&s.value){let N=s.value;typeof N=="string"&&(N=new RegExp(N)),B.key.match(N)||B.preventDefault()}},H=B=>{if(s&&s.value){let ae=(B.clipboardData||window.clipboardData).getData("Text"),G=s.value;typeof G=="string"&&(G=new RegExp(G)),ae.split("").every(A=>!!A.match(G))||B.preventDefault()}u.emit("paste",B,i)};return Ie(_,B=>{!w.value&&B&&r(),u.emit("search-change",B,i)}),{search:_,input:v,clearSearch:E,handleSearchInput:f,handleKeypress:q,handlePaste:H}}function Bt(e,u,a){const{groupSelect:s,mode:i,groups:w,disabledProp:r}=we(e),_=pe(null),v=f=>{f===void 0||f!==null&&f[r.value]||w.value&&f&&f.group&&(i.value==="single"||!s.value)||(_.value=f)};return{pointer:_,setPointer:v,clearPointer:()=>{v(null)}}}function rt(e,u=!0){return u?String(e).toLowerCase().trim():String(e).toLowerCase().normalize("NFD").trim().replace(new RegExp(/æ/g),"ae").replace(new RegExp(/œ/g),"oe").replace(new RegExp(/ø/g),"o").replace(/\p{Diacritic}/gu,"")}function Mt(e){return Object.prototype.toString.call(e)==="[object Object]"}function jt(e,u){const a=u.slice().sort();return e.length===u.length&&e.slice().sort().every(function(s,i){return s===a[i]})}function Ft(e,u,a){const{options:s,mode:i,trackBy:w,limit:r,hideSelected:_,createTag:v,createOption:E,label:f,appendNewTag:q,appendNewOption:H,multipleLabel:B,object:N,loading:ae,delay:G,resolveOnLoad:A,minChars:m,filterResults:$,clearOnSearch:re,clearOnSelect:ce,valueProp:L,allowAbsent:P,groupLabel:l,canDeselect:t,max:d,strict:b,closeOnSelect:o,closeOnDeselect:g,groups:I,reverse:le,infinite:ee,groupOptions:y,groupHideEmpty:ne,groupSelect:h,onCreate:F,disabledProp:D,searchStart:k,searchFilter:Y}=we(e),V=Ke().proxy,C=a.iv,c=a.ev,O=a.search,W=a.clearSearch,S=a.update,J=a.pointer,Z=a.clearPointer,fe=a.focus,te=a.deactivate,ie=a.close,ue=a.localize,Q=pe([]),he=pe([]),oe=pe(!1),ke=pe(null),_e=pe(ee.value&&r.value===-1?10:r.value),be=R(()=>v.value||E.value||!1),se=R(()=>q.value!==void 0?q.value:H.value!==void 0?H.value:!0),X=R(()=>{if(I.value){let n=Ee.value||[],p=[];return n.forEach(z=>{et(z[y.value]).forEach(ve=>{p.push(Object.assign({},ve,z[D.value]?{[D.value]:!0}:{}))})}),p}else{let n=et(he.value||[]);return Q.value.length&&(n=n.concat(Q.value)),n}}),Pe=R(()=>{let n=X.value;return le.value&&(n=n.reverse()),Te.value.length&&(n=Te.value.concat(n)),xe(n)}),U=R(()=>{let n=Pe.value;return _e.value>0&&(n=n.slice(0,_e.value)),n}),Ee=R(()=>{if(!I.value)return[];let n=[],p=he.value||[];return Q.value.length&&n.push({[l.value]:" ",[y.value]:[...Q.value],__CREATE__:!0}),n.concat(p)}),Ce=R(()=>{let n=[...Ee.value].map(p=>({...p}));return Te.value.length&&(n[0]&&n[0].__CREATE__?n[0][y.value]=[...Te.value,...n[0][y.value]]:n=[{[l.value]:" ",[y.value]:[...Te.value],__CREATE__:!0}].concat(n)),n}),Re=R(()=>{if(!I.value)return[];let n=Ce.value;return Ct((n||[]).map((p,z)=>{const ve=et(p[y.value]);return{...p,index:z,group:!0,[y.value]:xe(ve,!1).map(Ve=>Object.assign({},Ve,p[D.value]?{[D.value]:!0}:{})),__VISIBLE__:xe(ve).map(Ve=>Object.assign({},Ve,p[D.value]?{[D.value]:!0}:{}))}}))}),Le=R(()=>{switch(i.value){case"single":return!De(C.value[L.value]);case"multiple":case"tags":return!De(C.value)&&C.value.length>0}}),Ae=R(()=>B!==void 0&&B.value!==void 0?B.value(C.value,V):C.value&&C.value.length>1?`${C.value.length} options selected`:"1 option selected"),qe=R(()=>!X.value.length&&!oe.value&&!Te.value.length),Oe=R(()=>X.value.length>0&&U.value.length==0&&(O.value&&I.value||!I.value)),Te=R(()=>be.value===!1||!O.value?[]:wt(O.value)!==-1?[]:[{[L.value]:O.value,[de.value]:O.value,[f.value]:O.value,__CREATE__:!0}]),de=R(()=>w.value||f.value),He=R(()=>{switch(i.value){case"single":return null;case"multiple":case"tags":return[]}}),ze=R(()=>ae.value||oe.value),Fe=n=>{switch(typeof n!="object"&&(n=Me(n)),i.value){case"single":S(n);break;case"multiple":case"tags":S(C.value.concat(n));break}u.emit("select",ut(n),n,V)},Ne=n=>{switch(typeof n!="object"&&(n=Me(n)),i.value){case"single":dt();break;case"tags":case"multiple":S(Array.isArray(n)?C.value.filter(p=>n.map(z=>z[L.value]).indexOf(p[L.value])===-1):C.value.filter(p=>p[L.value]!=n[L.value]));break}u.emit("deselect",ut(n),n,V)},ut=n=>N.value?n:n[L.value],ot=n=>{Ne(n)},bt=(n,p)=>{if(p.button!==0){p.preventDefault();return}ot(n)},dt=()=>{u.emit("clear",V),S(He.value)},Be=n=>{if(n.group!==void 0)return i.value==="single"?!1:St(n[y.value])&&n[y.value].length;switch(i.value){case"single":return!De(C.value)&&C.value[L.value]==n[L.value];case"tags":case"multiple":return!De(C.value)&&C.value.map(p=>p[L.value]).indexOf(n[L.value])!==-1}},Ye=n=>n[D.value]===!0,Ze=()=>d===void 0||d.value===-1||!Le.value&&d.value>0?!1:C.value.length>=d.value,yt=n=>{if(!Ye(n)){if(F&&F.value&&!Be(n)&&n.__CREATE__&&(n={...n},delete n.__CREATE__,n=F.value(n,V),n instanceof Promise)){oe.value=!0,n.then(p=>{oe.value=!1,ct(p)});return}ct(n)}},ct=n=>{switch(n.__CREATE__&&(n={...n},delete n.__CREATE__),i.value){case"single":if(n&&Be(n)){t.value&&Ne(n),g.value&&(Z(),ie());return}n&&Xe(n),ce.value&&W(),o.value&&(Z(),ie()),n&&Fe(n);break;case"multiple":if(n&&Be(n)){Ne(n),g.value&&(Z(),ie());return}if(Ze()){u.emit("max",V);return}n&&(Xe(n),Fe(n)),ce.value&&W(),_.value&&Z(),o.value&&ie();break;case"tags":if(n&&Be(n)){Ne(n),g.value&&(Z(),ie());return}if(Ze()){u.emit("max",V);return}n&&Xe(n),ce.value&&W(),n&&Fe(n),_.value&&Z(),o.value&&ie();break}o.value||fe()},kt=n=>{if(!(Ye(n)||i.value==="single"||!h.value)){switch(i.value){case"multiple":case"tags":_t(n[y.value])?Ne(n[y.value]):Fe(n[y.value].filter(p=>C.value.map(z=>z[L.value]).indexOf(p[L.value])===-1).filter(p=>!p[D.value]).filter((p,z)=>C.value.length+1+z<=d.value||d.value===-1));break}o.value&&te()}},Xe=n=>{Me(n[L.value])===void 0&&be.value&&(u.emit("tag",n[L.value],V),u.emit("option",n[L.value],V),u.emit("create",n[L.value],V),se.value&&Et(n),W())},Ot=()=>{i.value!=="single"&&Fe(U.value.filter(n=>!n.disabled&&!Be(n)))},_t=n=>n.find(p=>!Be(p)&&!p[D.value])===void 0,St=n=>n.find(p=>!Be(p))===void 0,Me=n=>X.value[X.value.map(p=>String(p[L.value])).indexOf(String(n))],wt=(n,p=!0)=>X.value.map(z=>parseInt(z[de.value])==z[de.value]?parseInt(z[de.value]):z[de.value]).indexOf(parseInt(n)==n?parseInt(n):n),Lt=n=>["tags","multiple"].indexOf(i.value)!==-1&&_.value&&Be(n),Et=n=>{Q.value.push(n)},Ct=n=>ne.value?n.filter(p=>O.value?p.__VISIBLE__.length:p[y.value].length):n.filter(p=>O.value?p.__VISIBLE__.length:!0),xe=(n,p=!0)=>{let z=n;if(O.value&&$.value){let ve=Y.value;ve||(ve=(Ve,Wa)=>{let vt=rt(ue(Ve[de.value]),b.value);return k.value?vt.startsWith(rt(O.value,b.value)):vt.indexOf(rt(O.value,b.value))!==-1}),z=z.filter(ve)}return _.value&&p&&(z=z.filter(ve=>!Lt(ve))),z},et=n=>{let p=n;return Mt(p)&&(p=Object.keys(p).map(z=>{let ve=p[z];return{[L.value]:z,[de.value]:ve,[f.value]:ve}})),p=p.map(z=>typeof z=="object"?z:{[L.value]:z,[de.value]:z,[f.value]:z}),p},Ge=()=>{De(c.value)||(C.value=$e(c.value))},We=n=>(oe.value=!0,new Promise((p,z)=>{s.value(O.value,V).then(ve=>{he.value=ve||[],typeof n=="function"&&n(ve),oe.value=!1}).catch(ve=>{console.error(ve),he.value=[],oe.value=!1}).finally(()=>{p()})})),tt=()=>{if(Le.value)if(i.value==="single"){let n=Me(C.value[L.value]);if(n!==void 0){let p=n[f.value];C.value[f.value]=p,N.value&&(c.value[f.value]=p)}}else C.value.forEach((n,p)=>{let z=Me(C.value[p][L.value]);if(z!==void 0){let ve=z[f.value];C.value[p][f.value]=ve,N.value&&(c.value[p][f.value]=ve)}})},Tt=n=>{We(n)},$e=n=>De(n)?i.value==="single"?{}:[]:N.value?n:i.value==="single"?Me(n)||(P.value?{[f.value]:n,[L.value]:n,[de.value]:n}:{}):n.filter(p=>!!Me(p)||P.value).map(p=>Me(p)||{[f.value]:p,[L.value]:p,[de.value]:p}),ft=()=>{ke.value=Ie(O,n=>{n.length<m.value||!n&&m.value!==0||(oe.value=!0,re.value&&(he.value=[]),setTimeout(()=>{n==O.value&&s.value(O.value,V).then(p=>{(n==O.value||!O.value)&&(he.value=p,J.value=U.value.filter(z=>z[D.value]!==!0)[0]||null,oe.value=!1)}).catch(p=>{console.error(p)})},G.value))},{flush:"sync"})};if(i.value!=="single"&&!De(c.value)&&!Array.isArray(c.value))throw new Error(`v-model must be an array when using "${i.value}" mode`);return s&&typeof s.value=="function"?A.value?We(Ge):N.value==!0&&Ge():(he.value=s.value,Ge()),G.value>-1&&ft(),Ie(G,(n,p)=>{ke.value&&ke.value(),n>=0&&ft()}),Ie(c,n=>{if(De(n)){S($e(n),!1);return}switch(i.value){case"single":(N.value?n[L.value]!=C.value[L.value]:n!=C.value[L.value])&&S($e(n),!1);break;case"multiple":case"tags":jt(N.value?n.map(p=>p[L.value]):n,C.value.map(p=>p[L.value]))||S($e(n),!1);break}},{deep:!0}),Ie(s,(n,p)=>{typeof e.options=="function"?A.value&&(!p||n&&n.toString()!==p.toString())&&We():(he.value=e.options,Object.keys(C.value).length||Ge(),tt())}),Ie(f,tt),{pfo:Pe,fo:U,filteredOptions:U,hasSelected:Le,multipleLabelText:Ae,eo:X,extendedOptions:X,eg:Ee,extendedGroups:Ee,fg:Re,filteredGroups:Re,noOptions:qe,noResults:Oe,resolving:oe,busy:ze,offset:_e,select:Fe,deselect:Ne,remove:ot,selectAll:Ot,clear:dt,isSelected:Be,isDisabled:Ye,isMax:Ze,getOption:Me,handleOptionClick:yt,handleGroupClick:kt,handleTagRemove:bt,refreshOptions:Tt,resolveOptions:We,refreshLabels:tt}}function Nt(e,u,a){const{valueProp:s,showOptions:i,searchable:w,groupLabel:r,groups:_,mode:v,groupSelect:E,disabledProp:f,groupOptions:q}=we(e),H=a.fo,B=a.fg,N=a.handleOptionClick,ae=a.handleGroupClick,G=a.search,A=a.pointer,m=a.setPointer,$=a.clearPointer,re=a.multiselect,ce=a.isOpen,L=R(()=>H.value.filter(c=>!c[f.value])),P=R(()=>B.value.filter(c=>!c[f.value])),l=R(()=>v.value!=="single"&&E.value),t=R(()=>A.value&&A.value.group),d=R(()=>V(A.value)),b=R(()=>{const c=t.value?A.value:V(A.value),O=P.value.map(S=>S[r.value]).indexOf(c[r.value]);let W=P.value[O-1];return W===void 0&&(W=g.value),W}),o=R(()=>{let c=P.value.map(O=>O.label).indexOf(t.value?A.value[r.value]:V(A.value)[r.value])+1;return P.value.length<=c&&(c=0),P.value[c]}),g=R(()=>[...P.value].slice(-1)[0]),I=R(()=>A.value.__VISIBLE__.filter(c=>!c[f.value])[0]),le=R(()=>{const c=d.value.__VISIBLE__.filter(O=>!O[f.value]);return c[c.map(O=>O[s.value]).indexOf(A.value[s.value])-1]}),ee=R(()=>{const c=V(A.value).__VISIBLE__.filter(O=>!O[f.value]);return c[c.map(O=>O[s.value]).indexOf(A.value[s.value])+1]}),y=R(()=>[...b.value.__VISIBLE__.filter(c=>!c[f.value])].slice(-1)[0]),ne=R(()=>[...g.value.__VISIBLE__.filter(c=>!c[f.value])].slice(-1)[0]),h=c=>A.value&&(!c.group&&A.value[s.value]===c[s.value]||c.group!==void 0&&A.value[r.value]===c[r.value])?!0:void 0,F=()=>{m(L.value[0]||null)},D=()=>{!A.value||A.value[f.value]===!0||(t.value?ae(A.value):N(A.value))},k=()=>{if(A.value===null)m((_.value&&l.value?P.value[0].__CREATE__?L.value[0]:P.value[0]:L.value[0])||null);else if(_.value&&l.value){let c=t.value?I.value:ee.value;c===void 0&&(c=o.value,c.__CREATE__&&(c=c[q.value][0])),m(c||null)}else{let c=L.value.map(O=>O[s.value]).indexOf(A.value[s.value])+1;L.value.length<=c&&(c=0),m(L.value[c]||null)}Je(()=>{C()})},Y=()=>{if(A.value===null){let c=L.value[L.value.length-1];_.value&&l.value&&(c=ne.value,c===void 0&&(c=g.value)),m(c||null)}else if(_.value&&l.value){let c=t.value?y.value:le.value;c===void 0&&(c=t.value?b.value:d.value,c.__CREATE__&&(c=y.value,c===void 0&&(c=b.value))),m(c||null)}else{let c=L.value.map(O=>O[s.value]).indexOf(A.value[s.value])-1;c<0&&(c=L.value.length-1),m(L.value[c]||null)}Je(()=>{C()})},V=c=>P.value.find(O=>O.__VISIBLE__.map(W=>W[s.value]).indexOf(c[s.value])!==-1),C=()=>{let c=re.value.querySelector("[data-pointed]");if(!c)return;let O=c.parentElement.parentElement;_.value&&(O=t.value?c.parentElement.parentElement.parentElement:c.parentElement.parentElement.parentElement.parentElement),c.offsetTop+c.offsetHeight>O.clientHeight+O.scrollTop&&(O.scrollTop=c.offsetTop+c.offsetHeight-O.clientHeight),c.offsetTop<O.scrollTop&&(O.scrollTop=c.offsetTop)};return Ie(G,c=>{w.value&&(c.length&&i.value?F():$())}),Ie(ce,c=>{if(c){let O=re.value.querySelectorAll("[data-selected]")[0];if(!O)return;let W=O.parentElement.parentElement;Je(()=>{W.scrollTop>0||(W.scrollTop=O.offsetTop)})}}),{pointer:A,canPointGroups:l,isPointed:h,setPointerFirst:F,selectPointer:D,forwardPointer:k,backwardPointer:Y}}function zt(e,u,a){const{disabled:s}=we(e),i=Ke().proxy,w=pe(!1);return{isOpen:w,open:()=>{w.value||s.value||(w.value=!0,u.emit("open",i))},close:()=>{w.value&&(w.value=!1,u.emit("close",i))}}}function Vt(e,u,a){const{searchable:s,disabled:i,clearOnBlur:w}=we(e),r=a.input,_=a.open,v=a.close,E=a.clearSearch,f=a.isOpen,q=pe(null),H=pe(null),B=pe(null),N=pe(!1),ae=pe(!1),G=R(()=>s.value||i.value?-1:0),A=()=>{s.value&&r.value.blur(),H.value.blur()},m=()=>{s.value&&!i.value&&r.value.focus()},$=(t=!0)=>{i.value||(N.value=!0,t&&_())},re=()=>{N.value=!1,setTimeout(()=>{N.value||(v(),w.value&&E())},1)};return{multiselect:q,wrapper:H,tags:B,tabindex:G,isActive:N,mouseClicked:ae,blur:A,focus:m,activate:$,deactivate:re,handleFocusIn:t=>{t.target.closest("[data-tags]")&&t.target.nodeName!=="INPUT"||t.target.closest("[data-clear]")||$(ae.value)},handleFocusOut:()=>{re()},handleCaretClick:()=>{re(),A()},handleMousedown:t=>{ae.value=!0,f.value&&(t.target.isEqualNode(H.value)||t.target.isEqualNode(B.value))?setTimeout(()=>{re()},0):document.activeElement.isEqualNode(H.value)&&!f.value&&$(),setTimeout(()=>{ae.value=!1},0)}}}function Kt(e,u,a){const{mode:s,addTagOn:i,openDirection:w,searchable:r,showOptions:_,valueProp:v,groups:E,addOptionOn:f,createTag:q,createOption:H,reverse:B}=we(e),N=Ke().proxy,ae=a.iv,G=a.update,A=a.search,m=a.setPointer,$=a.selectPointer,re=a.backwardPointer,ce=a.forwardPointer,L=a.multiselect,P=a.wrapper,l=a.tags,t=a.isOpen,d=a.open,b=a.blur,o=a.fo,g=R(()=>q.value||H.value||!1),I=R(()=>i.value!==void 0?i.value:f.value!==void 0?f.value:["enter"]),le=()=>{s.value==="tags"&&!_.value&&g.value&&r.value&&!E.value&&m(o.value[o.value.map(h=>h[v.value]).indexOf(A.value)])},ee=h=>{let F=h.length-1;for(;F>=0&&(h[F].remove===!1||h[F].disabled);)F--;return F<0||h.splice(F,1),h};return{handleKeydown:h=>{u.emit("keydown",h,N);let F,D;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(h.key)!==-1&&s.value==="tags"&&(F=[...L.value.querySelectorAll("[data-tags] > *")].filter(k=>k!==l.value),D=F.findIndex(k=>k===document.activeElement)),h.key){case"Backspace":if(s.value==="single"||r.value&&[null,""].indexOf(A.value)===-1||ae.value.length===0)return;G(ee([...ae.value]));break;case"Enter":if(h.preventDefault(),h.keyCode===229)return;if(D!==-1&&D!==void 0){G([...ae.value].filter((k,Y)=>Y!==D)),D===F.length-1&&(F.length-1?F[F.length-2].focus():r.value?l.value.querySelector("input").focus():P.value.focus());return}if(I.value.indexOf("enter")===-1&&g.value)return;le(),$();break;case" ":if(!g.value&&!r.value){h.preventDefault(),le(),$();return}if(!g.value)return!1;if(I.value.indexOf("space")===-1&&g.value)return;h.preventDefault(),le(),$();break;case"Tab":case";":case",":if(I.value.indexOf(h.key.toLowerCase())===-1||!g.value)return;le(),$(),h.preventDefault();break;case"Escape":b();break;case"ArrowUp":if(h.preventDefault(),!_.value)return;t.value||d(),re();break;case"ArrowDown":if(h.preventDefault(),!_.value)return;t.value||d(),ce();break;case"ArrowLeft":if(r.value&&l.value&&l.value.querySelector("input").selectionStart||h.shiftKey||s.value!=="tags"||!ae.value||!ae.value.length)return;h.preventDefault(),D===-1?F[F.length-1].focus():D>0&&F[D-1].focus();break;case"ArrowRight":if(D===-1||h.shiftKey||s.value!=="tags"||!ae.value||!ae.value.length)return;h.preventDefault(),F.length>D+1?F[D+1].focus():r.value?l.value.querySelector("input").focus():r.value||P.value.focus();break}},handleKeyup:h=>{u.emit("keyup",h,N)},preparePointer:le}}function Ut(e,u,a){const{classes:s,disabled:i,openDirection:w,showOptions:r}=we(e),_=a.isOpen,v=a.isPointed,E=a.isSelected,f=a.isDisabled,q=a.isActive,H=a.canPointGroups,B=a.resolving,N=a.fo,ae=R(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...s.value})),G=R(()=>!!(_.value&&r.value&&(!B.value||B.value&&N.value.length)));return{classList:R(()=>{const m=ae.value;return{container:[m.container].concat(i.value?m.containerDisabled:[]).concat(G.value&&w.value==="top"?m.containerOpenTop:[]).concat(G.value&&w.value!=="top"?m.containerOpen:[]).concat(q.value?m.containerActive:[]),wrapper:m.wrapper,spacer:m.spacer,singleLabel:m.singleLabel,singleLabelText:m.singleLabelText,multipleLabel:m.multipleLabel,search:m.search,tags:m.tags,tag:[m.tag].concat(i.value?m.tagDisabled:[]),tagDisabled:m.tagDisabled,tagRemove:m.tagRemove,tagRemoveIcon:m.tagRemoveIcon,tagsSearchWrapper:m.tagsSearchWrapper,tagsSearch:m.tagsSearch,tagsSearchCopy:m.tagsSearchCopy,placeholder:m.placeholder,caret:[m.caret].concat(_.value?m.caretOpen:[]),clear:m.clear,clearIcon:m.clearIcon,spinner:m.spinner,inifinite:m.inifinite,inifiniteSpinner:m.inifiniteSpinner,dropdown:[m.dropdown].concat(w.value==="top"?m.dropdownTop:[]).concat(!_.value||!r.value||!G.value?m.dropdownHidden:[]),options:[m.options].concat(w.value==="top"?m.optionsTop:[]),group:m.group,groupLabel:$=>{let re=[m.groupLabel];return v($)?re.push(E($)?m.groupLabelSelectedPointed:m.groupLabelPointed):E($)&&H.value?re.push(f($)?m.groupLabelSelectedDisabled:m.groupLabelSelected):f($)&&re.push(m.groupLabelDisabled),H.value&&re.push(m.groupLabelPointable),re},groupOptions:m.groupOptions,option:($,re)=>{let ce=[m.option];return v($)?ce.push(E($)?m.optionSelectedPointed:m.optionPointed):E($)?ce.push(f($)?m.optionSelectedDisabled:m.optionSelected):(f($)||re&&f(re))&&ce.push(m.optionDisabled),ce},noOptions:m.noOptions,noResults:m.noResults,assist:m.assist,fakeInput:m.fakeInput}}),showDropdown:G}}function Ht(e,u,a){const{limit:s,infinite:i}=we(e),w=a.isOpen,r=a.offset,_=a.search,v=a.pfo,E=a.eo,f=pe(null),q=pe(null),H=R(()=>r.value<v.value.length),B=ae=>{const{isIntersecting:G,target:A}=ae[0];if(G){const m=A.offsetParent,$=m.scrollTop;r.value+=s.value==-1?10:s.value,Je(()=>{m.scrollTop=$})}},N=()=>{w.value&&r.value<v.value.length?f.value.observe(q.value):!w.value&&f.value&&f.value.disconnect()};return Ie(w,()=>{i.value&&N()}),Ie(_,()=>{i.value&&(r.value=s.value,N())},{flush:"post"}),Ie(E,()=>{i.value&&N()},{immediate:!1,flush:"post"}),gt(()=>{window&&window.IntersectionObserver&&(f.value=new IntersectionObserver(B))}),{hasMore:H,infiniteLoader:q}}function Gt(e,u,a){const{placeholder:s,id:i,valueProp:w,label:r,mode:_,groupLabel:v,aria:E,searchable:f}=we(e),q=a.pointer,H=a.iv,B=a.hasSelected,N=a.multipleLabelText,ae=pe(null),G=R(()=>{let o=[];return i&&i.value&&o.push(i.value),o.push("assist"),o.join("-")}),A=R(()=>{let o=[];return i&&i.value&&o.push(i.value),o.push("multiselect-options"),o.join("-")}),m=R(()=>{let o=[];if(i&&i.value&&o.push(i.value),q.value)return o.push(q.value.group?"multiselect-group":"multiselect-option"),o.push(q.value.group?q.value.index:q.value[w.value]),o.join("-")}),$=R(()=>s.value),re=R(()=>_.value!=="single"),ce=R(()=>{let o="";return _.value==="single"&&B.value&&(o+=H.value[r.value]),_.value==="multiple"&&B.value&&(o+=N.value),_.value==="tags"&&B.value&&(o+=H.value.map(g=>g[r.value]).join(", ")),o}),L=R(()=>{let o={...E.value};return f.value&&(o["aria-labelledby"]=o["aria-labelledby"]?`${G.value} ${o["aria-labelledby"]}`:G.value,ce.value&&o["aria-label"]&&(o["aria-label"]=`${ce.value}, ${o["aria-label"]}`)),o}),P=o=>{let g=[];return i&&i.value&&g.push(i.value),g.push("multiselect-option"),g.push(o[w.value]),g.join("-")},l=o=>{let g=[];return i&&i.value&&g.push(i.value),g.push("multiselect-group"),g.push(o.index),g.join("-")},t=o=>{let g=[];return g.push(o),g.join(" ")},d=o=>{let g=[];return g.push(o),g.join(" ")},b=o=>`${o} ❎`;return gt(()=>{if(i&&i.value&&document&&document.querySelector){let o=document.querySelector(`[for="${i.value}"]`);ae.value=o?o.innerText:null}}),{arias:L,ariaLabel:ce,ariaAssist:G,ariaControls:A,ariaPlaceholder:$,ariaMultiselectable:re,ariaActiveDescendant:m,ariaOptionId:P,ariaOptionLabel:t,ariaGroupId:l,ariaGroupLabel:d,ariaTagLabel:b}}function Wt(e,u,a){const{locale:s,fallbackLocale:i}=we(e);return{localize:r=>!r||typeof r!="object"?r:r&&r[s.value]?r[s.value]:r&&s.value&&r[s.value.toUpperCase()]?r[s.value.toUpperCase()]:r&&r[i.value]?r[i.value]:r&&i.value&&r[i.value.toUpperCase()]?r[i.value.toUpperCase()]:r&&Object.keys(r)[0]?r[Object.keys(r)[0]]:""}}function $t(e,u,a,s={}){return a.forEach(i=>{i&&(s={...s,...i(e,u,s)})}),s}var Ue={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max","create"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:[String,Object],required:!1,default:"The list is empty"},noResultsText:{type:[String,Object],required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},closeOnDeselect:{type:Boolean,required:!1,default:!1},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0},locale:{required:!1,type:String,default:null},fallbackLocale:{required:!1,type:String,default:"en"},searchFilter:{required:!1,type:Function,default:null},allowAbsent:{required:!1,type:Boolean,default:!1}},setup(e,u){return $t(e,u,[Wt,qt,Bt,zt,Dt,At,Vt,Ft,Ht,Nt,Kt,Ut,Gt])}};const Jt=["id","dir"],Qt=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],Yt=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Zt=["onKeyup","aria-label"],Xt=["onClick"],xt=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],ea=["innerHTML"],ta=["id"],aa=["id","aria-label","aria-selected"],la=["data-pointed","onMouseenter","onClick"],na=["innerHTML"],ra=["aria-label"],sa=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],ia=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],ua=["innerHTML"],oa=["innerHTML"],da=["value"],ca=["name","value"],fa=["name","value"],va=["id"];function ha(e,u,a,s,i,w){return M(),j("div",{ref:"multiselect",class:x(e.classList.container),id:a.searchable?void 0:a.id,dir:a.rtl?"rtl":void 0,onFocusin:u[10]||(u[10]=(...r)=>e.handleFocusIn&&e.handleFocusIn(...r)),onFocusout:u[11]||(u[11]=(...r)=>e.handleFocusOut&&e.handleFocusOut(...r)),onKeyup:u[12]||(u[12]=(...r)=>e.handleKeyup&&e.handleKeyup(...r)),onKeydown:u[13]||(u[13]=(...r)=>e.handleKeydown&&e.handleKeydown(...r))},[T("div",at({class:e.classList.wrapper,onMousedown:u[9]||(u[9]=(...r)=>e.handleMousedown&&e.handleMousedown(...r)),ref:"wrapper",tabindex:e.tabindex,"aria-controls":a.searchable?void 0:e.ariaControls,"aria-placeholder":a.searchable?void 0:e.ariaPlaceholder,"aria-expanded":a.searchable?void 0:e.isOpen,"aria-activedescendant":a.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":a.searchable?void 0:e.ariaMultiselectable,role:a.searchable?void 0:"combobox"},a.searchable?{}:e.arias),[K(" Search "),a.mode!=="tags"&&a.searchable&&!a.disabled?(M(),j("input",at({key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:a.autocomplete,id:a.searchable?a.id:void 0,onInput:u[0]||(u[0]=(...r)=>e.handleSearchInput&&e.handleSearchInput(...r)),onKeypress:u[1]||(u[1]=(...r)=>e.handleKeypress&&e.handleKeypress(...r)),onPaste:u[2]||(u[2]=lt((...r)=>e.handlePaste&&e.handlePaste(...r),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...a.attrs,...e.arias}),null,16,Yt)):K("v-if",!0),K(" Tags (with search) "),a.mode=="tags"?(M(),j("div",{key:1,class:x(e.classList.tags),"data-tags":""},[(M(!0),j(ye,null,Se(e.iv,(r,_,v)=>ge(e.$slots,"tag",{option:r,handleTagRemove:e.handleTagRemove,disabled:a.disabled},()=>[(M(),j("span",{class:x([e.classList.tag,r.disabled?e.classList.tagDisabled:null]),tabindex:"-1",onKeyup:ht(E=>e.handleTagRemove(r,E),["enter"]),key:v,"aria-label":e.ariaTagLabel(e.localize(r[a.label]))},[je(me(e.localize(r[a.label]))+" ",1),!a.disabled&&!r.disabled?(M(),j("span",{key:0,class:x(e.classList.tagRemove),onClick:lt(E=>e.handleTagRemove(r,E),["stop"])},[T("span",{class:x(e.classList.tagRemoveIcon)},null,2)],10,Xt)):K("v-if",!0)],42,Zt))])),256)),T("div",{class:x(e.classList.tagsSearchWrapper),ref:"tags"},[K(" Used for measuring search width "),T("span",{class:x(e.classList.tagsSearchCopy)},me(e.search),3),K(" Actual search input "),a.searchable&&!a.disabled?(M(),j("input",at({key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:a.searchable?a.id:void 0,autocomplete:a.autocomplete,onInput:u[3]||(u[3]=(...r)=>e.handleSearchInput&&e.handleSearchInput(...r)),onKeypress:u[4]||(u[4]=(...r)=>e.handleKeypress&&e.handleKeypress(...r)),onPaste:u[5]||(u[5]=lt((...r)=>e.handlePaste&&e.handlePaste(...r),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...a.attrs,...e.arias}),null,16,xt)):K("v-if",!0)],2)],2)):K("v-if",!0),K(" Single label "),a.mode=="single"&&e.hasSelected&&!e.search&&e.iv?ge(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[T("div",{class:x(e.classList.singleLabel)},[T("span",{class:x(e.classList.singleLabelText)},me(e.localize(e.iv[a.label])),3)],2)]):K("v-if",!0),K(" Multiple label "),a.mode=="multiple"&&e.hasSelected&&!e.search?ge(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[T("div",{class:x(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,ea)]):K("v-if",!0),K(" Placeholder "),a.placeholder&&!e.hasSelected&&!e.search?ge(e.$slots,"placeholder",{key:4},()=>[T("div",{class:x(e.classList.placeholder),"aria-hidden":"true"},me(a.placeholder),3)]):K("v-if",!0),K(" Spinner "),a.loading||e.resolving?ge(e.$slots,"spinner",{key:5},()=>[T("span",{class:x(e.classList.spinner),"aria-hidden":"true"},null,2)]):K("v-if",!0),K(" Clear "),e.hasSelected&&!a.disabled&&a.canClear&&!e.busy?ge(e.$slots,"clear",{key:6,clear:e.clear},()=>[T("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"❎",class:x(e.classList.clear),onClick:u[6]||(u[6]=(...r)=>e.clear&&e.clear(...r)),onKeyup:u[7]||(u[7]=ht((...r)=>e.clear&&e.clear(...r),["enter"]))},[T("span",{class:x(e.classList.clearIcon)},null,2)],34)]):K("v-if",!0),K(" Caret "),a.caret&&a.showOptions?ge(e.$slots,"caret",{key:7},()=>[T("span",{class:x(e.classList.caret),onClick:u[8]||(u[8]=(...r)=>e.handleCaretClick&&e.handleCaretClick(...r)),"aria-hidden":"true"},null,2)]):K("v-if",!0)],16,Qt),K(" Options "),T("div",{class:x(e.classList.dropdown),tabindex:"-1"},[ge(e.$slots,"beforelist",{options:e.fo}),T("ul",{class:x(e.classList.options),id:e.ariaControls,role:"listbox"},[a.groups?(M(!0),j(ye,{key:0},Se(e.fg,(r,_,v)=>(M(),j("li",{class:x(e.classList.group),key:v,id:e.ariaGroupId(r),"aria-label":e.ariaGroupLabel(e.localize(r[a.groupLabel])),"aria-selected":e.isSelected(r),role:"option"},[r.__CREATE__?K("v-if",!0):(M(),j("div",{key:0,class:x(e.classList.groupLabel(r)),"data-pointed":e.isPointed(r),onMouseenter:E=>e.setPointer(r,_),onClick:E=>e.handleGroupClick(r)},[ge(e.$slots,"grouplabel",{group:r,isSelected:e.isSelected,isPointed:e.isPointed},()=>[T("span",{innerHTML:e.localize(r[a.groupLabel])},null,8,na)])],42,la)),T("ul",{class:x(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(e.localize(r[a.groupLabel])),role:"group"},[(M(!0),j(ye,null,Se(r.__VISIBLE__,(E,f,q)=>(M(),j("li",{class:x(e.classList.option(E,r)),"data-pointed":e.isPointed(E),"data-selected":e.isSelected(E)||void 0,key:q,onMouseenter:H=>e.setPointer(E),onClick:H=>e.handleOptionClick(E),id:e.ariaOptionId(E),"aria-selected":e.isSelected(E),"aria-label":e.ariaOptionLabel(e.localize(E[a.label])),role:"option"},[ge(e.$slots,"option",{option:E,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[T("span",null,me(e.localize(E[a.label])),1)])],42,sa))),128))],10,ra)],10,aa))),128)):(M(!0),j(ye,{key:1},Se(e.fo,(r,_,v)=>(M(),j("li",{class:x(e.classList.option(r)),"data-pointed":e.isPointed(r),"data-selected":e.isSelected(r)||void 0,key:v,onMouseenter:E=>e.setPointer(r),onClick:E=>e.handleOptionClick(r),id:e.ariaOptionId(r),"aria-selected":e.isSelected(r),"aria-label":e.ariaOptionLabel(e.localize(r[a.label])),role:"option"},[ge(e.$slots,"option",{option:r,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[T("span",null,me(e.localize(r[a.label])),1)])],42,ia))),128))],10,ta),e.noOptions?ge(e.$slots,"nooptions",{key:0},()=>[T("div",{class:x(e.classList.noOptions),innerHTML:e.localize(a.noOptionsText)},null,10,ua)]):K("v-if",!0),e.noResults?ge(e.$slots,"noresults",{key:1},()=>[T("div",{class:x(e.classList.noResults),innerHTML:e.localize(a.noResultsText)},null,10,oa)]):K("v-if",!0),a.infinite&&e.hasMore?(M(),j("div",{key:2,class:x(e.classList.inifinite),ref:"infiniteLoader"},[ge(e.$slots,"infinite",{},()=>[T("span",{class:x(e.classList.inifiniteSpinner)},null,2)])],2)):K("v-if",!0),ge(e.$slots,"afterlist",{options:e.fo})],2),K(" Hacky input element to show HTML5 required warning "),a.required?(M(),j("input",{key:0,class:x(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,da)):K("v-if",!0),K(" Native input support "),a.nativeSupport?(M(),j(ye,{key:1},[a.mode=="single"?(M(),j("input",{key:0,type:"hidden",name:a.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,ca)):(M(!0),j(ye,{key:1},Se(e.plainValue,(r,_)=>(M(),j("input",{type:"hidden",name:`${a.name}[]`,value:r,key:_},null,8,fa))),128))],64)):K("v-if",!0),K(" Screen reader assistive text "),a.searchable&&e.hasSelected?(M(),j("div",{key:2,class:x(e.classList.assist),id:e.ariaAssist,"aria-hidden":"true"},me(e.ariaLabel),11,va)):K("v-if",!0),K(" Create height for empty input "),T("div",{class:x(e.classList.spacer)},null,2)],42,Jt)}Ue.render=ha;Ue.__file="src/Multiselect.vue";var pa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},it={},ga={get exports(){return it},set exports(e){it=e}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,u){(function(a,s){e.exports=s()})(pa,function a(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},i=!s.document&&!!s.postMessage,w=s.IS_PAPA_WORKER||!1,r={},_=0,v={parse:function(l,t){var d=(t=t||{}).dynamicTyping||!1;if(P(d)&&(t.dynamicTypingFunction=d,d={}),t.dynamicTyping=d,t.transform=!!P(t.transform)&&t.transform,t.worker&&v.WORKERS_SUPPORTED){var b=function(){if(!v.WORKERS_SUPPORTED)return!1;var g=(le=s.URL||s.webkitURL||null,ee=a.toString(),v.BLOB_URL||(v.BLOB_URL=le.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ee,")();"],{type:"text/javascript"})))),I=new s.Worker(g),le,ee;return I.onmessage=m,I.id=_++,r[I.id]=I}();return b.userStep=t.step,b.userChunk=t.chunk,b.userComplete=t.complete,b.userError=t.error,t.step=P(t.step),t.chunk=P(t.chunk),t.complete=P(t.complete),t.error=P(t.error),delete t.worker,void b.postMessage({input:l,config:t,workerId:b.id})}var o=null;return v.NODE_STREAM_INPUT,typeof l=="string"?(l=function(g){return g.charCodeAt(0)===65279?g.slice(1):g}(l),o=t.download?new q(t):new B(t)):l.readable===!0&&P(l.read)&&P(l.on)?o=new N(t):(s.File&&l instanceof File||l instanceof Object)&&(o=new H(t)),o.stream(l)},unparse:function(l,t){var d=!1,b=!0,o=",",g=`\r
`,I='"',le=I+I,ee=!1,y=null,ne=!1;(function(){if(typeof t=="object"){if(typeof t.delimiter!="string"||v.BAD_DELIMITERS.filter(function(k){return t.delimiter.indexOf(k)!==-1}).length||(o=t.delimiter),(typeof t.quotes=="boolean"||typeof t.quotes=="function"||Array.isArray(t.quotes))&&(d=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(ee=t.skipEmptyLines),typeof t.newline=="string"&&(g=t.newline),typeof t.quoteChar=="string"&&(I=t.quoteChar),typeof t.header=="boolean"&&(b=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");y=t.columns}t.escapeChar!==void 0&&(le=t.escapeChar+I),(typeof t.escapeFormulae=="boolean"||t.escapeFormulae instanceof RegExp)&&(ne=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var h=new RegExp(G(I),"g");if(typeof l=="string"&&(l=JSON.parse(l)),Array.isArray(l)){if(!l.length||Array.isArray(l[0]))return F(null,l,ee);if(typeof l[0]=="object")return F(y||Object.keys(l[0]),l,ee)}else if(typeof l=="object")return typeof l.data=="string"&&(l.data=JSON.parse(l.data)),Array.isArray(l.data)&&(l.fields||(l.fields=l.meta&&l.meta.fields||y),l.fields||(l.fields=Array.isArray(l.data[0])?l.fields:typeof l.data[0]=="object"?Object.keys(l.data[0]):[]),Array.isArray(l.data[0])||typeof l.data[0]=="object"||(l.data=[l.data])),F(l.fields||[],l.data||[],ee);throw new Error("Unable to serialize unrecognized input");function F(k,Y,V){var C="";typeof k=="string"&&(k=JSON.parse(k)),typeof Y=="string"&&(Y=JSON.parse(Y));var c=Array.isArray(k)&&0<k.length,O=!Array.isArray(Y[0]);if(c&&b){for(var W=0;W<k.length;W++)0<W&&(C+=o),C+=D(k[W],W);0<Y.length&&(C+=g)}for(var S=0;S<Y.length;S++){var J=c?k.length:Y[S].length,Z=!1,fe=c?Object.keys(Y[S]).length===0:Y[S].length===0;if(V&&!c&&(Z=V==="greedy"?Y[S].join("").trim()==="":Y[S].length===1&&Y[S][0].length===0),V==="greedy"&&c){for(var te=[],ie=0;ie<J;ie++){var ue=O?k[ie]:ie;te.push(Y[S][ue])}Z=te.join("").trim()===""}if(!Z){for(var Q=0;Q<J;Q++){0<Q&&!fe&&(C+=o);var he=c&&O?k[Q]:Q;C+=D(Y[S][he],Q)}S<Y.length-1&&(!V||0<J&&!fe)&&(C+=g)}}return C}function D(k,Y){if(k==null)return"";if(k.constructor===Date)return JSON.stringify(k).slice(1,25);var V=!1;ne&&typeof k=="string"&&ne.test(k)&&(k="'"+k,V=!0);var C=k.toString().replace(h,le);return(V=V||d===!0||typeof d=="function"&&d(k,Y)||Array.isArray(d)&&d[Y]||function(c,O){for(var W=0;W<O.length;W++)if(-1<c.indexOf(O[W]))return!0;return!1}(C,v.BAD_DELIMITERS)||-1<C.indexOf(o)||C.charAt(0)===" "||C.charAt(C.length-1)===" ")?I+C+I:C}}};if(v.RECORD_SEP=String.fromCharCode(30),v.UNIT_SEP=String.fromCharCode(31),v.BYTE_ORDER_MARK="\uFEFF",v.BAD_DELIMITERS=["\r",`
`,'"',v.BYTE_ORDER_MARK],v.WORKERS_SUPPORTED=!i&&!!s.Worker,v.NODE_STREAM_INPUT=1,v.LocalChunkSize=10485760,v.RemoteChunkSize=5242880,v.DefaultDelimiter=",",v.Parser=A,v.ParserHandle=ae,v.NetworkStreamer=q,v.FileStreamer=H,v.StringStreamer=B,v.ReadableStreamStreamer=N,s.jQuery){var E=s.jQuery;E.fn.parse=function(l){var t=l.config||{},d=[];return this.each(function(g){if(!(E(this).prop("tagName").toUpperCase()==="INPUT"&&E(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var I=0;I<this.files.length;I++)d.push({file:this.files[I],inputElem:this,instanceConfig:E.extend({},t)})}),b(),this;function b(){if(d.length!==0){var g,I,le,ee,y=d[0];if(P(l.before)){var ne=l.before(y.file,y.inputElem);if(typeof ne=="object"){if(ne.action==="abort")return g="AbortError",I=y.file,le=y.inputElem,ee=ne.reason,void(P(l.error)&&l.error({name:g},I,le,ee));if(ne.action==="skip")return void o();typeof ne.config=="object"&&(y.instanceConfig=E.extend(y.instanceConfig,ne.config))}else if(ne==="skip")return void o()}var h=y.instanceConfig.complete;y.instanceConfig.complete=function(F){P(h)&&h(F,y.file,y.inputElem),o()},v.parse(y.file,y.instanceConfig)}else P(l.complete)&&l.complete()}function o(){d.splice(0,1),b()}}}function f(l){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var d=ce(t);d.chunkSize=parseInt(d.chunkSize),t.step||t.chunk||(d.chunkSize=null),this._handle=new ae(d),(this._handle.streamer=this)._config=d}.call(this,l),this.parseChunk=function(t,d){if(this.isFirstChunk&&P(this._config.beforeFirstChunk)){var b=this._config.beforeFirstChunk(t);b!==void 0&&(t=b)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+t;this._partialLine="";var g=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var I=g.meta.cursor;this._finished||(this._partialLine=o.substring(I-this._baseIndex),this._baseIndex=I),g&&g.data&&(this._rowCount+=g.data.length);var le=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(w)s.postMessage({results:g,workerId:v.WORKER_ID,finished:le});else if(P(this._config.chunk)&&!d){if(this._config.chunk(g,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);g=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(g.data),this._completeResults.errors=this._completeResults.errors.concat(g.errors),this._completeResults.meta=g.meta),this._completed||!le||!P(this._config.complete)||g&&g.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),le||g&&g.meta.paused||this._nextChunk(),g}this._halted=!0},this._sendError=function(t){P(this._config.error)?this._config.error(t):w&&this._config.error&&s.postMessage({workerId:v.WORKER_ID,error:t,finished:!1})}}function q(l){var t;(l=l||{}).chunkSize||(l.chunkSize=v.RemoteChunkSize),f.call(this,l),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(d){this._input=d,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),i||(t.onload=L(this._chunkLoaded,this),t.onerror=L(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var d=this._config.downloadRequestHeaders;for(var b in d)t.setRequestHeader(b,d[b])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+o)}try{t.send(this._config.downloadRequestBody)}catch(g){this._chunkError(g.message)}i&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(d){var b=d.getResponseHeader("Content-Range");return b===null?-1:parseInt(b.substring(b.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(d){var b=t.statusText||d;this._sendError(new Error(b))}}function H(l){var t,d;(l=l||{}).chunkSize||(l.chunkSize=v.LocalChunkSize),f.call(this,l);var b=typeof FileReader<"u";this.stream=function(o){this._input=o,d=o.slice||o.webkitSlice||o.mozSlice,b?((t=new FileReader).onload=L(this._chunkLoaded,this),t.onerror=L(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var o=this._input;if(this._config.chunkSize){var g=Math.min(this._start+this._config.chunkSize,this._input.size);o=d.call(o,this._start,g)}var I=t.readAsText(o,this._config.encoding);b||this._chunkLoaded({target:{result:I}})},this._chunkLoaded=function(o){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(o.target.result)},this._chunkError=function(){this._sendError(t.error)}}function B(l){var t;f.call(this,l=l||{}),this.stream=function(d){return t=d,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var d,b=this._config.chunkSize;return b?(d=t.substring(0,b),t=t.substring(b)):(d=t,t=""),this._finished=!t,this.parseChunk(d)}}}function N(l){f.call(this,l=l||{});var t=[],d=!0,b=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(o){this._input=o,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){b&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):d=!0},this._streamData=L(function(o){try{t.push(typeof o=="string"?o:o.toString(this._config.encoding)),d&&(d=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(g){this._streamError(g)}},this),this._streamError=L(function(o){this._streamCleanUp(),this._sendError(o)},this),this._streamEnd=L(function(){this._streamCleanUp(),b=!0,this._streamData("")},this),this._streamCleanUp=L(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ae(l){var t,d,b,o=Math.pow(2,53),g=-o,I=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,le=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ee=this,y=0,ne=0,h=!1,F=!1,D=[],k={data:[],errors:[],meta:{}};if(P(l.step)){var Y=l.step;l.step=function(S){if(k=S,c())C();else{if(C(),k.data.length===0)return;y+=S.data.length,l.preview&&y>l.preview?d.abort():(k.data=k.data[0],Y(k,ee))}}}function V(S){return l.skipEmptyLines==="greedy"?S.join("").trim()==="":S.length===1&&S[0].length===0}function C(){return k&&b&&(W("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+v.DefaultDelimiter+"'"),b=!1),l.skipEmptyLines&&(k.data=k.data.filter(function(S){return!V(S)})),c()&&function(){if(!k)return;function S(Z,fe){P(l.transformHeader)&&(Z=l.transformHeader(Z,fe)),D.push(Z)}if(Array.isArray(k.data[0])){for(var J=0;c()&&J<k.data.length;J++)k.data[J].forEach(S);k.data.splice(0,1)}else k.data.forEach(S)}(),function(){if(!k||!l.header&&!l.dynamicTyping&&!l.transform)return k;function S(Z,fe){var te,ie=l.header?{}:[];for(te=0;te<Z.length;te++){var ue=te,Q=Z[te];l.header&&(ue=te>=D.length?"__parsed_extra":D[te]),l.transform&&(Q=l.transform(Q,ue)),Q=O(ue,Q),ue==="__parsed_extra"?(ie[ue]=ie[ue]||[],ie[ue].push(Q)):ie[ue]=Q}return l.header&&(te>D.length?W("FieldMismatch","TooManyFields","Too many fields: expected "+D.length+" fields but parsed "+te,ne+fe):te<D.length&&W("FieldMismatch","TooFewFields","Too few fields: expected "+D.length+" fields but parsed "+te,ne+fe)),ie}var J=1;return!k.data.length||Array.isArray(k.data[0])?(k.data=k.data.map(S),J=k.data.length):k.data=S(k.data,0),l.header&&k.meta&&(k.meta.fields=D),ne+=J,k}()}function c(){return l.header&&D.length===0}function O(S,J){return Z=S,l.dynamicTypingFunction&&l.dynamicTyping[Z]===void 0&&(l.dynamicTyping[Z]=l.dynamicTypingFunction(Z)),(l.dynamicTyping[Z]||l.dynamicTyping)===!0?J==="true"||J==="TRUE"||J!=="false"&&J!=="FALSE"&&(function(fe){if(I.test(fe)){var te=parseFloat(fe);if(g<te&&te<o)return!0}return!1}(J)?parseFloat(J):le.test(J)?new Date(J):J===""?null:J):J;var Z}function W(S,J,Z,fe){var te={type:S,code:J,message:Z};fe!==void 0&&(te.row=fe),k.errors.push(te)}this.parse=function(S,J,Z){var fe=l.quoteChar||'"';if(l.newline||(l.newline=function(ue,Q){ue=ue.substring(0,1048576);var he=new RegExp(G(Q)+"([^]*?)"+G(Q),"gm"),oe=(ue=ue.replace(he,"")).split("\r"),ke=ue.split(`
`),_e=1<ke.length&&ke[0].length<oe[0].length;if(oe.length===1||_e)return`
`;for(var be=0,se=0;se<oe.length;se++)oe[se][0]===`
`&&be++;return be>=oe.length/2?`\r
`:"\r"}(S,fe)),b=!1,l.delimiter)P(l.delimiter)&&(l.delimiter=l.delimiter(S),k.meta.delimiter=l.delimiter);else{var te=function(ue,Q,he,oe,ke){var _e,be,se,X;ke=ke||[",","	","|",";",v.RECORD_SEP,v.UNIT_SEP];for(var Pe=0;Pe<ke.length;Pe++){var U=ke[Pe],Ee=0,Ce=0,Re=0;se=void 0;for(var Le=new A({comments:oe,delimiter:U,newline:Q,preview:10}).parse(ue),Ae=0;Ae<Le.data.length;Ae++)if(he&&V(Le.data[Ae]))Re++;else{var qe=Le.data[Ae].length;Ce+=qe,se!==void 0?0<qe&&(Ee+=Math.abs(qe-se),se=qe):se=qe}0<Le.data.length&&(Ce/=Le.data.length-Re),(be===void 0||Ee<=be)&&(X===void 0||X<Ce)&&1.99<Ce&&(be=Ee,_e=U,X=Ce)}return{successful:!!(l.delimiter=_e),bestDelimiter:_e}}(S,l.newline,l.skipEmptyLines,l.comments,l.delimitersToGuess);te.successful?l.delimiter=te.bestDelimiter:(b=!0,l.delimiter=v.DefaultDelimiter),k.meta.delimiter=l.delimiter}var ie=ce(l);return l.preview&&l.header&&ie.preview++,t=S,d=new A(ie),k=d.parse(t,J,Z),C(),h?{meta:{paused:!0}}:k||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,d.abort(),t=P(l.chunk)?"":t.substring(d.getCharIndex())},this.resume=function(){ee.streamer._halted?(h=!1,ee.streamer.parseChunk(t,!0)):setTimeout(ee.resume,3)},this.aborted=function(){return F},this.abort=function(){F=!0,d.abort(),k.meta.aborted=!0,P(l.complete)&&l.complete(k),t=""}}function G(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function A(l){var t,d=(l=l||{}).delimiter,b=l.newline,o=l.comments,g=l.step,I=l.preview,le=l.fastMode,ee=t=l.quoteChar===void 0||l.quoteChar===null?'"':l.quoteChar;if(l.escapeChar!==void 0&&(ee=l.escapeChar),(typeof d!="string"||-1<v.BAD_DELIMITERS.indexOf(d))&&(d=","),o===d)throw new Error("Comment character same as delimiter");o===!0?o="#":(typeof o!="string"||-1<v.BAD_DELIMITERS.indexOf(o))&&(o=!1),b!==`
`&&b!=="\r"&&b!==`\r
`&&(b=`
`);var y=0,ne=!1;this.parse=function(h,F,D){if(typeof h!="string")throw new Error("Input must be a string");var k=h.length,Y=d.length,V=b.length,C=o.length,c=P(g),O=[],W=[],S=[],J=y=0;if(!h)return Oe();if(l.header&&!F){var Z=h.split(b)[0].split(d),fe=[],te={},ie=!1;for(var ue in Z){var Q=Z[ue];P(l.transformHeader)&&(Q=l.transformHeader(Q,ue));var he=Q,oe=te[Q]||0;for(0<oe&&(ie=!0,he=Q+"_"+oe),te[Q]=oe+1;fe.includes(he);)he=he+"_"+oe;fe.push(he)}if(ie){var ke=h.split(b);ke[0]=fe.join(d),h=ke.join(b)}}if(le||le!==!1&&h.indexOf(t)===-1){for(var _e=h.split(b),be=0;be<_e.length;be++){if(S=_e[be],y+=S.length,be!==_e.length-1)y+=b.length;else if(D)return Oe();if(!o||S.substring(0,C)!==o){if(c){if(O=[],Re(S.split(d)),Te(),ne)return Oe()}else Re(S.split(d));if(I&&I<=be)return O=O.slice(0,I),Oe(!0)}}return Oe()}for(var se=h.indexOf(d,y),X=h.indexOf(b,y),Pe=new RegExp(G(ee)+G(t),"g"),U=h.indexOf(t,y);;)if(h[y]!==t)if(o&&S.length===0&&h.substring(y,y+C)===o){if(X===-1)return Oe();y=X+V,X=h.indexOf(b,y),se=h.indexOf(d,y)}else if(se!==-1&&(se<X||X===-1))S.push(h.substring(y,se)),y=se+Y,se=h.indexOf(d,y);else{if(X===-1)break;if(S.push(h.substring(y,X)),qe(X+V),c&&(Te(),ne))return Oe();if(I&&O.length>=I)return Oe(!0)}else for(U=y,y++;;){if((U=h.indexOf(t,U+1))===-1)return D||W.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:O.length,index:y}),Ae();if(U===k-1)return Ae(h.substring(y,U).replace(Pe,t));if(t!==ee||h[U+1]!==ee){if(t===ee||U===0||h[U-1]!==ee){se!==-1&&se<U+1&&(se=h.indexOf(d,U+1)),X!==-1&&X<U+1&&(X=h.indexOf(b,U+1));var Ee=Le(X===-1?se:Math.min(se,X));if(h.substr(U+1+Ee,Y)===d){S.push(h.substring(y,U).replace(Pe,t)),h[y=U+1+Ee+Y]!==t&&(U=h.indexOf(t,y)),se=h.indexOf(d,y),X=h.indexOf(b,y);break}var Ce=Le(X);if(h.substring(U+1+Ce,U+1+Ce+V)===b){if(S.push(h.substring(y,U).replace(Pe,t)),qe(U+1+Ce+V),se=h.indexOf(d,y),U=h.indexOf(t,y),c&&(Te(),ne))return Oe();if(I&&O.length>=I)return Oe(!0);break}W.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:O.length,index:y}),U++}}else U++}return Ae();function Re(de){O.push(de),J=y}function Le(de){var He=0;if(de!==-1){var ze=h.substring(U+1,de);ze&&ze.trim()===""&&(He=ze.length)}return He}function Ae(de){return D||(de===void 0&&(de=h.substring(y)),S.push(de),y=k,Re(S),c&&Te()),Oe()}function qe(de){y=de,Re(S),S=[],X=h.indexOf(b,y)}function Oe(de){return{data:O,errors:W,meta:{delimiter:d,linebreak:b,aborted:ne,truncated:!!de,cursor:J+(F||0)}}}function Te(){g(Oe()),O=[],W=[]}},this.abort=function(){ne=!0},this.getCharIndex=function(){return y}}function m(l){var t=l.data,d=r[t.workerId],b=!1;if(t.error)d.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){b=!0,$(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:re,resume:re};if(P(d.userStep)){for(var g=0;g<t.results.data.length&&(d.userStep({data:t.results.data[g],errors:t.results.errors,meta:t.results.meta},o),!b);g++);delete t.results}else P(d.userChunk)&&(d.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!b&&$(t.workerId,t.results)}function $(l,t){var d=r[l];P(d.userComplete)&&d.userComplete(t),d.terminate(),delete r[l]}function re(){throw new Error("Not implemented.")}function ce(l){if(typeof l!="object"||l===null)return l;var t=Array.isArray(l)?[]:{};for(var d in l)t[d]=ce(l[d]);return t}function L(l,t){return function(){l.apply(t,arguments)}}function P(l){return typeof l=="function"}return w&&(s.onmessage=function(l){var t=l.data;if(v.WORKER_ID===void 0&&t&&(v.WORKER_ID=t.workerId),typeof t.input=="string")s.postMessage({workerId:v.WORKER_ID,results:v.parse(t.input,t.config),finished:!0});else if(s.File&&t.input instanceof File||t.input instanceof Object){var d=v.parse(t.input,t.config);d&&s.postMessage({workerId:v.WORKER_ID,results:d,finished:!0})}}),(q.prototype=Object.create(f.prototype)).constructor=q,(H.prototype=Object.create(f.prototype)).constructor=H,(B.prototype=Object.create(B.prototype)).constructor=B,(N.prototype=Object.create(f.prototype)).constructor=N,v})})(ga);const ma={props:{labels:Array,Start:{type:Number,required:!1,default:1}},data(){return{tabActive:1}}},ba={class:"tabbox"},ya={class:"tabs"},ka=["value"],Oa={class:"tabContent"};function _a(e,u,a,s,i,w){return M(),j("div",ba,[T("div",ya,[(M(!0),j(ye,null,Se(a.labels,(r,_)=>(M(),j("label",null,[je(me(r)+" ",1),st(T("input",{type:"radio",value:_+1,"onUpdate:modelValue":u[0]||(u[0]=v=>i.tabActive=v)},null,8,ka),[[Pt,i.tabActive]])]))),256))]),ge(e.$slots,"tabs-side"),T("div",Oa,[(M(!0),j(ye,null,Se(a.labels,(r,_)=>(M(),j(ye,null,[_+1==i.tabActive?ge(e.$slots,`tabPanel-${_+1}`,{key:0}):K("",!0)],64))),256))])])}const Sa=It(ma,[["render",_a]]),wa=["onsubmit"],La={class:"damage"},Ea={class:"form_label"},Ca={class:"url"},Ta={class:"form_label"},Ia={emits:["addTeam"],props:{index:Number,chars:Array},data(){return{data:{boss:null,chars:[],damage:4e3,url:null}}},mounted(){this.data.boss=this.index,console.log()},methods:{check(){return!1}}},Pa=Object.assign(Ia,{__name:"teamForm",setup(e){return(u,a)=>(M(),j(ye,null,[je(" 編成登録 "),T("form",{onsubmit:u.check,ref:"form"},[Qe(mt(Ue),{modelValue:u.data.chars,"onUpdate:modelValue":a[0]||(a[0]=s=>u.data.chars=s),class:"inline",options:e.chars,label:"char",valueProp:"char",trackBy:"track",mode:"tags",searchable:!0,placeholder:"キャラ5人",locale:"ja",max:5,required:!0},null,8,["modelValue","options"]),T("div",La,[T("label",Ea,[je("ダメージ（万）"),st(T("input",{type:"number",min:"0",max:"9900",step:"100","onUpdate:modelValue":a[1]||(a[1]=s=>u.data.damage=s),required:""},null,512),[[pt,u.data.damage]])])]),T("div",Ca,[T("label",Ta,[je("Youtube等のリンク"),st(T("input",{type:"url","onUpdate:modelValue":a[2]||(a[2]=s=>u.data.url=s),placeholder:"https://www.youtube.com/"},null,512),[[pt,u.data.url]])])]),T("div",null,[T("button",{onClick:a[3]||(a[3]=s=>this.$emit("addTeam",u.data))},"追加")])],8,wa)],64))}}),Ra="/pricone/assets/chars-b6df0d0f.csv";const Aa={class:"about"},qa={class:"teambox"},Da={class:"damage"},Ba={class:"damage"},Ma={class:"team"},ja={class:"teambox"},Fa={class:"teambox"},Na={class:"damage"},za={class:"team"},Va={class:"url"},Ka=["href"],Ua=["onClick"],Ha={class:"button_class"},Ga={components:{Multiselect:Ue},data(){return{tabActive:1,tab_labels:["ルート","1体目","2体目","3体目","4体目","5体目","設定"],no_chars:[],chars:[],teams:[]}},computed:{roots(){let e=[];for(let u=1;u<4;u++)for(let a=u+1;a<5;a++)for(let s=a+1;s<6;s++)for(let i of this.teams.filter(w=>w.boss==u))for(let w of this.teams.filter(r=>r.boss==a))for(let r of this.teams.filter(_=>_.boss==s)){let _=[...new Set([...i.chars,...w.chars])],v=[...new Set([...i.chars,...r.chars])],E=[...new Set([...w.chars,...r.chars])];i.chars.filter(f=>this.no_chars.includes(f))<=1&&w.chars.filter(f=>this.no_chars.includes(f))<=1&&r.chars.filter(f=>this.no_chars.includes(f))<=1&&_.length-_.filter(f=>this.no_chars.includes(f)).length>7&&v.length-v.filter(f=>this.no_chars.includes(f)).length>7&&E.length-E.filter(f=>this.no_chars.includes(f)).length>7&&_.length-_.filter(f=>this.no_chars.includes(f)).length+v.length-v.filter(f=>this.no_chars.includes(f)).length+E.length-E.filter(f=>this.no_chars.includes(f)).length>25&&e.push([i,w,r])}return e}},mounted(){this.readIniChars(),this.no_chars=JSON.parse(localStorage.getItem("no_chars"))||[],this.teams=JSON.parse(localStorage.getItem("teams"))||[]},methods:{readIniChars(){it.parse(Ra,{header:!0,download:!0,complete:e=>{this.chars=e.data.map(u=>({char:u.char,track:u.char.replace(/[ァ-ン]/g,a=>String.fromCharCode(a.charCodeAt(0)-96))}))}})},importTeams(){var e=event.target.files[0],u=new FileReader;u.onload=a=>{this.teams=JSON.parse(a.target.result)},u.readAsText(e)},exportTeams(){const e=document.createElement("a");e.href="data:text/plain,"+encodeURIComponent(JSON.stringify(this.teams)),e.download="プリコネ編成.json",e.click()},addTeam(e){if(e.chars.length==5)this.teams.push(Object.assign({},e));else{alert("5人選んでください。");return}},deleteTeam(e,u){let a=this.teams.filter(s=>s.boss==e).sort((s,i)=>i.damage-s.damage);a.splice(u,1),this.teams=a},clearTeam(){confirm("本当に編成を消去しますか？")&&(this.teams=[])}},watch:{no_chars(){localStorage.setItem("no_chars",JSON.stringify(this.no_chars))},teams:{handler(){localStorage.setItem("teams",JSON.stringify(this.teams))},deep:!0}}},Ja=Object.assign(Ga,{__name:"RootView",setup(e){return(u,a)=>(M(),j("div",Aa,[Qe(Sa,{labels:u.tab_labels},Rt({"tabPanel-1":nt(()=>[je(me(u.roots.length)+"件のルートがあります。 ",1),(M(!0),j(ye,null,Se(u.roots,s=>(M(),j("div",qa,[T("span",Da,me(s.map(i=>i.boss).join("-")),1),T("span",Ba,"ダメージ"+me(s.map(i=>i.damage).join("+"))+"="+me(s.reduce((i,w)=>i+Number(w.damage),0))+"万",1),(M(!0),j(ye,null,Se(s,i=>(M(),j("div",null,[je(me(i.boss),1),(M(!0),j(ye,null,Se(i.chars,w=>(M(),j("span",Ma,me(w),1))),256))]))),256))]))),256))]),"tabPanel-7":nt(()=>[je(" 未所持キャラ "),Qe(mt(Ue),{modelValue:u.no_chars,"onUpdate:modelValue":a[0]||(a[0]=s=>u.no_chars=s),options:u.chars,label:"char",valueProp:"char",trackBy:"track",mode:"tags",searchable:!0,placeholder:"未所持キャラ"},null,8,["modelValue","options"]),T("div",null,[T("button",{onClick:a[1]||(a[1]=(...s)=>u.clearTeam&&u.clearTeam(...s))},"登録編成リセット")]),T("div",null,[T("label",Ha,[je("インポート"),T("input",{type:"file",accept:"application/json",onChange:a[2]||(a[2]=(...s)=>u.importTeams&&u.importTeams(...s))},null,32)])]),T("div",null,[T("button",{onClick:a[3]||(a[3]=(...s)=>u.exportTeams&&u.exportTeams(...s))},"エクスポート")])]),_:2},[Se(5,s=>({name:`tabPanel-${s+1}`,fn:nt(()=>[T("div",ja,[Qe(Pa,{index:s,chars:u.chars,onAddTeam:u.addTeam},null,8,["index","chars","onAddTeam"])]),(M(!0),j(ye,null,Se(u.teams.filter(i=>i.boss==s).sort((i,w)=>w.damage-i.damage),(i,w)=>(M(),j("div",Fa,[T("span",Na,"ダメージ"+me(i.damage||0)+"万",1),(M(!0),j(ye,null,Se(i.chars.sort(),r=>(M(),j("span",za,me(r),1))),256)),T("span",Va,[i.url?(M(),j("a",{key:0,href:i.url,target:"_blank",rel:"noopener noreferrer"},"リンク",8,Ka)):K("",!0)]),T("button",{onClick:r=>u.deleteTeam(s,w)},"✕",8,Ua)]))),256))])}))]),1032,["labels"])]))}});export{Ja as default};
