import{_ as S,c as h,a as d,b as a,w as r,F as f,r as c,o as i,d as b,n as j,e as m,f as O,t as _,g as A}from"./index-1DJxpyDG.js";const z={data(){return{tab_labels:["1ボス","2ボス","3ボス","4ボス","5ボス"],data:{},date:null,checkList:[],wrapNum:10}},mounted(){this.date=new Date,this.checkList=JSON.parse(localStorage.getItem("checkList"))||[]},methods:{getData(){fetch("/pricone/data/"+this.fileName+".json").then(t=>t.json()).then(t=>{this.data=t}).catch(t=>this.data=Object.assign({}))},damageDisplay(t){let l=Math.floor(t/1e4),s=t%1e4;return l?l+"億"+s+"万":s+"万"},listing(t,l){const s=t.indexOf(l);s<0?t.push(l):t.splice(s,1)},preMonth(){let t=new Date(this.date);t.setMonth(t.getMonth()-1),this.date=t},nextMonth(){let t=new Date(this.date);t.setMonth(t.getMonth()+1),this.date=t}},computed:{mteams(){var t,l;return(t=this.data)!=null&&t.teams?(l=this.data)==null?void 0:l.teams.map(s=>{var g;let p=(g=this.data)==null?void 0:g.bosses.find(v=>v.num==s.boss).hp,u=Math.floor(p/s.damage),n=p%s.damage,w=Math.ceil(110-n/s.damage*90),k=Math.ceil(n-(11-8.9001)*s.damage/9);return Object.assign({},s,{n1:u,h1:n,t2:w,h3:k})}).sort((s,p)=>p.damage-s.damage):[]},fileName(){return this.date.toLocaleDateString("sv",{year:"numeric",month:"numeric"})},useChars(){var t;return(t=this.data)!=null&&t.teams?[...new Set(this.data.teams.map(l=>l.chars).flatMap(l=>l.map(s=>s.name)))]:[]}},watch:{date(){this.getData()},checkList:{handler(){localStorage.setItem("checkList",JSON.stringify(this.checkList))},deep:!0}}},F={class:"date-wrapper"},I=d("h2",null,"使用キャラ",-1),J={class:"slider-demo-block"},R=["src","alt","onClick"],U={class:"damage"},E=["src","alt"],T={class:"static"},$={key:0},q={key:1};function G(t,l,s,p,u,n){const w=c("ArrowLeftBold"),k=c("el-icon"),g=c("el-button"),v=c("el-date-picker"),x=c("ArrowRightBold"),N=c("el-slider"),M=c("el-tooltip"),D=c("el-tab-pane"),C=c("el-link"),V=c("el-card"),B=c("el-tabs");return i(),h(f,null,[d("div",F,[a(g,{onClick:l[0]||(l[0]=o=>n.preMonth())},{default:r(()=>[a(k,null,{default:r(()=>[a(w)]),_:1})]),_:1}),a(v,{modelValue:u.date,"onUpdate:modelValue":l[1]||(l[1]=o=>u.date=o),type:"month",clearable:!1,placeholder:"月を選んでください"},null,8,["modelValue"]),a(g,{onClick:l[2]||(l[2]=o=>n.nextMonth())},{default:r(()=>[a(k,null,{default:r(()=>[a(x)]),_:1})]),_:1})]),a(B,null,{default:r(()=>[a(D,{label:"一覧"},{default:r(()=>[I,d("div",J,[a(N,{modelValue:u.wrapNum,"onUpdate:modelValue":l[3]||(l[3]=o=>u.wrapNum=o),min:0,max:10,"show-tooltip":!1},null,8,["modelValue"])]),d("div",{style:j(`max-width:calc(49px * ${u.wrapNum})`)},[(i(!0),h(f,null,b(n.useChars,o=>(i(),m(M,{effect:"dark",content:o,placement:"bottom-start","auto-close":600},{default:r(()=>[d("img",{class:O(["char-img",{batsu:u.checkList.includes(o)}]),src:`/pricone/image/${o}.jpg`,alt:o,onerror:"this.src='/pricone/image/unkown.svg';",onClick:L=>n.listing(u.checkList,o)},null,10,R)]),_:2},1032,["content"]))),256))],4)]),_:1}),(i(!0),h(f,null,b(u.tab_labels,(o,L)=>(i(),m(D,{label:o},{default:r(()=>[(i(!0),h(f,null,b(n.mteams.filter(e=>e.boss==L+1),e=>(i(),m(V,{shadow:"hover",class:"card"},{default:r(()=>[a(C,{href:e==null?void 0:e.url,target:"_blank"},{default:r(()=>[d("span",U,_(n.damageDisplay(e.damage)),1),A(" 目押し"+_((e==null?void 0:e.meoshi)??"不明"),1)]),_:2},1032,["href"]),d("div",null,[(i(!0),h(f,null,b(e.chars.slice().reverse(),y=>(i(),m(M,{effect:"dark",content:y.name,placement:"bottom-start","auto-close":600},{default:r(()=>[d("img",{class:"char-img",src:`/pricone/image/${y.name}.jpg`,alt:y.name,onerror:"this.src='/pricone/image/unkown.svg';"},null,8,E)]),_:2},1032,["content"]))),256))]),d("div",T,[d("p",null,_(`${(e==null?void 0:e.n1)+1}凸 = ${e==null?void 0:e.t2}s`),1),(e==null?void 0:e.h3)<0?(i(),h("p",$,_(`${e==null?void 0:e.n1}凸 + ${n.damageDisplay((e==null?void 0:e.damage)+(e==null?void 0:e.h3))} = 90s`),1)):(i(),h("p",q,_(`${(e==null?void 0:e.n1)+1}凸 + ${n.damageDisplay(e==null?void 0:e.h3)} = 90s`),1)),d("p",null,_(`${e==null?void 0:e.n1}凸 + ${n.damageDisplay((e==null?void 0:e.h1)+1)} = 21s`),1)])]),_:2},1024))),256))]),_:2},1032,["label"]))),256))]),_:1})],64)}const K=S(z,[["render",G]]);export{K as default};
